# 工作处理 #
> # 命令描述 #

* **jobs**  查看后台进程
* **fg**  将后台任务拿到前台
* **bg**  让暂停在后台的程序继续运行
* **kill**  管理后台进程
* **killall**  管理多个后台进程
* **ps**  进程查看
* **top**  进程实时查看
* **pstree**  查看进程关系

> # 常用参数 #

* **jobs**  
  -l ：除了列出 job number 与命令串之外，同时列出 PID 的号码；  
  -r ：仅列出正在背景 run 的工作；  
  -s ：仅列出正在背景当中暂停 (stop) 的工作。  
* **kill**  
  -l ：这个是 L 的小写，列出目前 kill 能够使用的讯号 (signal) 有哪些？  
  signal ：代表给予后面接的那个工作什么样的指示罗！用 man 7 signal 可知：  
  -1 ：重新读取一次参数的配置档 (类似 reload)；  
  -2 ：代表与由键盘输入 [ctrl]-c 同样的动作；  
  -9 ：立刻强制删除一个工作；  
  -15 ：以正常的程序方式终止一项工作。与 -9 是不一样的。  
* **killall**  
  -i ：interactive 的意思，互动式的，若需要删除时，会出现提示字节给使用者；  
  -e ：exact 的意思，表示『后面接的 command name 要一致』，但整个完整的命令不能超过 15 个字节。  
  -I ：命令名称(可能含参数)忽略大小写。  
* **ps**  
  -A  ：所有的 process 均显示出来，与 -e 具有同样的效用；  
  -a  ：不与 terminal 有关的所有 process ；  
  -u  ：有效使用者 (effective user) 相关的 process ；  
  -x  ：通常与 a 这个参数一起使用，可列出较完整资讯。  
  输出格式规划：  
  l   ：较长、较详细的将该 PID 的的资讯列出；  
  j   ：工作的格式 (jobs format)  
  -f  ：做一个更为完整的输出。  
* **top**  
  -d  ：后面可以接秒数，就是整个程序画面升级的秒数。默认是 5 秒；  
  -b  ：以批量的方式运行 top ，还有更多的参数可以使用喔！
      通常会搭配数据流重导向来将批量的结果输出成为文件。  
  -n  ：与 -b 搭配，意义是，需要进行几次 top 的输出结果。  
  -p  ：指定某些个 PID 来进行观察监测而已。  
  在 top 运行过程当中可以使用的按键命令：  
    ? ：显示在 top 当中可以输入的按键命令；  
    P ：以 CPU 的使用资源排序显示；  
    M ：以 Memory 的使用资源排序显示；  
    N ：以 PID 来排序喔！  
    T ：由该 Process 使用的 CPU 时间累积 (TIME+) 排序。  
    k ：给予某个 PID 一个讯号  (signal)  
    r ：给予某个 PID 重新制订一个 nice 值。  
    q ：离开 top 软件的按键。  

> # 应用示例 #

```
[root@www ~]# top -b -n 2 > /tmp/top.txt        // 可以将 top 的资讯存到 /tmp/top.txt 文件中
[root@www ~]# top -d 2 -p pid                   // 只观察一个进程
[root@www ~]# pstree -Aup                       // 查看所有进程树形结构
```