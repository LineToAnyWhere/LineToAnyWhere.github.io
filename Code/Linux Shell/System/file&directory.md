# 文件&目录 #
> # 命令描述 #

此处要介绍的相关命令共有28个  
关于文件与目录管理的命令有9个，分别是**cd**、**ls**、**pwd**、**mkdir**、**rmdir**、**cp**、**rm**、**mv**、**touch**  
* **cd**用于切换工作目录
* **ls**用于列出目录中的文件
* **pwd**用于显示当前工作目录
* **mkdir**用于创建新的目录
* **rmdir**用于删除空的目录
* **cp**用于复制文件或目录
* **rm**用于删除文件或目录
* **mv**用于移动文件或目录
* **touch**

关于文件与目录权限的命令有6个，分别是**chown**、**chgrp**、**chmod**、**umask**、**chattr**、**lsattr**  
* **chown**用于修改某一文件或目录的所属人，同时也可以修改文件所属组
* **chgrp**用于修改某一文件或目录的所属组
* **chmod**用于修改某一文件或者目录的权限信息。
* **umask**
* **chattr**
* **lsattr**

关于文件查看与寻找的命令有13个，分别是**cat**、**tac**、**nl**、**more**、**less**、**head**、**tail**、**od**、**which**、**whereis**、**locate**、**find**、**file**
* **cat**
* **tac**
* **nl**
* **more**
* **less**
* **head**
* **tail**
* **od**
* **which**
* **whereis**
* **locate**
* **find**  
* **file**  

> # 常用参数 #

* **pwd**  
  -P ：显示出真是路径，而非link的路径
* **mkdir**  
  -m ：创建目录时同时配置目录权限，忽略umask设置  
  -p ：递归创建目录，如果上级目录不存在则一起创建  
* **rmdir**  
  -p ：递归删除目录，连通上级空目录一起删除
* **ls**  
  -l ：显示文件详情，包括文件名，大小，修改时间，文件权限等属性  
  -a ：显示包括隐藏文件  
  -d ：仅列出目录本身，而不是列出目录内的文件数据  
  -h ：将文件容量以人类较易读的方式(例如 GB, KB 等)列出来
  -i ：列出 inode 号码，inode 的意义下一章将会介绍  
  -r ：将排序结果反向输出，例如：原本档名由小到大，反向则为由大到小  
  -R ：连同子目录内容一起列出来，等于该目录下的所有文件都会显示出来  
  -S ：以文件容量大小排序，而不是用档名排序  
  -t ：依时间排序，而不是用档名  
  --full-time ：显示文件的所有时间信息，包括atime，ctime，mtime  
* **cp**  
  -a ：相当於 -pdr 的意思，至於 pdr 请参考下列说明  
  -d ：若来源档为连结档的属性(link file)，则复制连结档属性而非文件本身  
  -f ：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次  
  -i ：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行  
  -l ：进行硬式连结(hard link)的连结档创建，而非复制文件本身  
  -p ：连同文件的属性一起复制过去，而非使用默认属性(备份常用)  
  -r ：递回持续复制，用於目录的复制行为  
  -s ：复制成为符号连结档 (symbolic link)，亦即『捷径』文件
  -u ：若 destination 比 source 旧才升级 destination
* **rm**
* **mv**
* **chgrp**  
  -R ：递归得改变次级目录中的文件及目录权限
* **chown**  
  -R ：递归得改变次级目录中的文件及目录权限
* **chmod**  
  -R ：递归得改变次级目录中的文件及目录权限

> # 应用示例 #

```
[root@www ~]# cd                    //切换至家目录
[root@www ~]# cd -                  //切换到上一个工作目录
[root@www /]# cd /lib               //切换到/lib目录
[root@www lib]# pwd                 //显示当前工作路径
[root@www ~]# mkdir -p a/b/c        //连续创建a/b/c目录
[root@www ~]# mkdir -m 777 -p a/b/d //连续创建a/b/d目录并且设置目录权限为777
[root@www ~]# rmdir -p a/b/c        //连续删除a/b/c目录
[root@www ~]# cp -s a as            //符号连接（symbolic link）
[root@www ~]# cp -l a al            //实体连接（hard link）

[root@www ~]# chgrp root file       //更改文件所有群组为root组
[root@www ~]# chgrp -R root dir/    //递归更改dir下所有的文件和目录的所有者为root用户
[root@www ~]# chown root file       //更改文件所有者为root用户  //更改文件所有者和所属群组为root
[root@www ~]# chown -R root dir/    //递归更改dir下所有的文件和目录的所有者为root用户     
[root@www ~]# chown root:root file  //更改文件所有者和所属群组为root账户和root组
[root@www ~]# chown :root file      //更改文件所有群组为root组
[root@www ~]# chmod 777 file        //对更改文件权限为所有者可读可写可执行，所有群组可读可写可执行，其他用户可读可写可执行
[root@www ~]# chmod -R 777 dir/     //递归更改目dir下所有文件和目录权限为所有者可读可写可执行，所有群组可读可写可执行，其他用户可读可写可执行
[root@www ~]# chmod 7777 file       //对更改文件权限为所有者可读可写可执行，所有群组可读可写可执行，其他用户可读可写可执行，同时增加SUID,SGID,SBIT权限。
```

> # 概念简介 #

## 目录概念 ##
在linux中，有5个特殊目录：
* **.**代表此目录
* **..**代表上一层目录
* **\-**代表前一个工作目录
* **~**代表当前登录账户的家目录
* **~account**代表account账户的家目录

## 权限概念 ##  
在`ls -l`命令的输出内容中，显示出每一个文件或目录的一些常见属性,例如：
```
[root@www ~]# ls -l
total 4
drwxr-xr-x 2 root root 4096 Mar  2 07:58 dir
-rw-r--r-- 1 root root    0 Mar  2 07:58 file
权限 连接数 所属用户 所属用户组 占用空间 最后修改日期 文件/目录
```
在上述的属性中，第一栏`drwxr-xr-x`为该文件的权限栏，该块共有10个字符组成。其中第一个字符显示该文件的类型，共有7种文件类型：  
* `d`代表目录
* `-`代表文件
* `l`代表连接档
* `b`代表设备文件里可供存储的接口设备
* `c`代表设备文件里的串行端口设备。
* `s`代表数据接口文件
* `p`代表FIFO文件

其余9个字符分为三组，第一组代表文件拥有者的权限，第二组代表文件拥有组的权限，第三组代表其他用户的权限  
三组中每组又有三个字符，分别代表这`rwx`权限,也就是读，写，执行权限。当权限不存在时，系统会以`-`填充该位。  
