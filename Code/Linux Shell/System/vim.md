# vim #
> # 命令描述 #

由于在使用linux的过程中，绝大多数都是在命令行状态下使用，因此学会使用Uxix like 系统内建的vi文本编辑器就显得至关重要，而且vi不仅仅可以用于编辑文本，还可以作为程序编辑器来使用，甚至在linux系统中，个别的软件（crontab、visudo、edquota等）还会调用vi来完成某些功能。vi的最新版本称之为vim。一般在目前版本的linux当中使用的时候，vi都会别名为vim。
> # 模式介绍 #

vim中有三种模式，分别是一般模式、编辑模式、指令模式
* **一般模式**  
  当使用vim一打开某个文档时进入的模式就是一般模式，这个模式下可以使用的命令按键最多，可以上下左右移动光标，删除复制粘帖文本等等。
* **编辑模式**
  在一般模式下按下【i、I、o、O、a、A、r、R】任何一个按键即可进入编辑模式，编辑模式中可以直接编辑文档。在编辑模式下按下ESC键就可以回到一般模式了。
* **指令模式**
  在一般模式下，输入【:、?、/】任何一个按键即可进入指令模式，指令模式下可以完成搜索，文本替换，文件保存退出等功能。

> # 按键说明 #

## 一般模式下相关指令 ##

#### 移动光标相关 ####
|指令键|功能|
|:-:|:-:|
|h 或 ←|光标向左移动一个字符|
|j 或 ↓|光标向下移动一个字符|
|k 或 ↑|光标向上移动一个字符|
|l 或 →|光标向右移动一个字符|
|H|光标移动到这个屏幕的最上方那一行的第一个字符|
|M|光标移动到这个屏幕的中央那一行的第一个字符|
|L|光标移动到这个屏幕的最下方那一行的第一个字符|
|G|移动到这个档案的最后一行(常用)|
|+|光标移动到非空格符的下一列|
|-|光标移动到非空格符的上一列|
|0或Home|这是数字『 0 』：移动到这一行的最前面字符处 (常用)|
|$或End|移动到这一行的最后面字符处(常用)|
|Ctrl+f|屏幕『向下』移动一页，相当于 [Page Down]按键 (常用)|
|Ctrl+b|屏幕『向上』移动一页，相当于 [Page Up] 按键 (常用)|
|Ctrl+d|屏幕『向下』移动半页|
|Ctrl+u|屏幕『向上』移动半页|
|n<space>|那个 n 表示『数字』，例如 20 。按下数字后再按空格键，光标会向右移动这一行的 n 个字符。例如 20<space> 则光标会向后面移动 20 个字符距离。|
|nG|n 为数字。移动到这个档案的第 n 行。例如 20G 则会移动到这个档案的第 20 行(可配合:set nu)|
|gg|移动到这个档案的第一行，相当于 1G (常用)|
|n<Enter>|n 为数字。光标向下移动 n 行(常用)|

#### 区块选择 ####
|指令键|功能|
|:-:|:-:|
|v|字符选择，会将光标经过的地方反白选择！|
|V|行选择，会将光标经过的行反白选择！|
|Ctrl+v|区块选择，可以用长方形的方式选择资料|
|y|将反白的地方复制起来|
|d|将反白的地方删除掉|

#### 删除、复制、粘帖 ####
|指令键|功能|
|:-:|:-:|
|x,X| x 为向后删除一个字符 (相当于 [del] 按键)，X 为向前删除一个字符(相当于 [backspace] 按键) (常用)|
|nx|n 为数字，连续向后删除 n 个字符。举例来说，我要连续删除 10 个字符， 『10x』。|
|dd|删除游标所在的那一整列(常用)|
|ndd|n 为数字。删除光标所在的向下 n 列，例如 20dd 则是删除 20 列 (常用)|
|d1G|删除光标所在到第一行的所有数据|
|dG|删除光标所在到最后一行的所有数据|
|d$|删除游标所在处，到该行的最后一个字符|
|d0|那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符|
|yy|复制游标所在的那一行(常用)|
|nyy|n 为数字。复制光标所在的向下 n 列，例如 20yy 则是复制 20 列(常用)|
|y1G|复制游标所在列到第一列的所有数据|
|y0|复制光标所在的那个字符到该行行首的所有数据|
|yG|复制游标所在列到最后一列的所有数据|
|y$|复制光标所在的那个字符到该行行尾的所有数据|
|p,P|p 为将已复制的数据在光标下一行贴上，P 则为贴在游标上一行！ 举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 p 后， 那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。但如果是按下 P 呢？ 那么原本的第 20 行会被推到变成 30 行。 (常用)|
|J|将光标所在列与下一列的数据结合成同一列|
|c|重复删除多个数据，例如向下删除 10 行，[ 10cj ]|
|u|复原前一个动作。(常用)|
|Ctrl+r|重做上一个动作。(常用)|
|.|意思是重复前一个动作的意思。 如果你想要重复删除、重复贴上等等动作，按下小数点『.』就好了！ (常用)|

#### 切换模式 ####
|指令键|功能|
|:-:|:-:|
|i,I|进入插入模式(Insert mode)：i 为『从目前光标所在处插入』， I 为『在目前所在行的第一个非空格符处开始插入』。 (常用)|
|a,A|进入插入模式(Insert mode)：a 为『从目前光标所在的下一个字符处开始插入』， A 为『从光标所在行的最后一个字符处开始插入』。(常用)|
|o,O|进入插入模式(Insert mode)：这是英文字母 o 的大小写。o 为『在目前光标所在的下一行处插入新的一行』； O 为在目前光标所在处的上一行插入新的一行！(常用)|
|r,R|进入取代模式(Replace mode)：r 只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下 ESC 为止；(常用)|
|Esc|退出编辑模式，回到一般模式中(常用)|

## 指令模式下相关指令 ##

#### 搜索与替换 ####
|指令键|功能|
|:-:|:-:|
|/word|向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 vbird 这个字符串，就输入 /vbird 即可！ (常用)|
|?word|向光标之上寻找一个字符串名称为 word 的字符串。|
|n|这个 n 是英文按键。代表『重复前一个搜寻的动作』。举例来说， 如果刚刚我们执行 /vbird 去向下搜寻 vbird 这个字符串，则按下 n 后，会向下继续搜寻下一个名称为 vbird 的字符串。如果是执行 ?vbird 的话，那么按下 n 则会向上继续搜寻名称为 vbird 的字符串！|
|N|这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作。 例如 /vbird 后，按下 N 则表示『向上』搜寻 vbird 。|
|:n1,n2s/word1/word2/g|n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 vbird 并取代为 VBIRD 则：『:100,200s/vbird/VBIRD/g』。(常用)|
|:1,$s/word1/word2/g|从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用)|
|:1,$s/word1/word2/gc|从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)|

#### 多档案切换 ####
|指令键|功能|
|:-:|:-:|
|:n|编辑下一个档案|
|:N|编辑上一个档案|
|:files|列出目前这个 vim 的开启的所有档案|

#### 多窗口按键 ####
|指令键|功能|
|:-:|:-:|
|:sp filename|开启一个新窗口，如果有加 filename， 表示在新窗口开启一个新档案，否则表示两个窗口为同一个档案内容(同步显示)。|
|ctrl+w+ j ctrl+w+ ↓|按键的按法是：先按下 [ctrl] 不放， 再按下 w 后放开所有的按键，然后再按下 j (或向下箭头键)，则光标可移动到下方的窗口。|
|ctrl+w+ k ctrl+w+ ↑|同上，不过光标移动到上面的窗口。|
|ctrl+w+ q|其实就是 :q 结束离开啦！ 举例来说，如果我想要结束下方的窗口，那么利用 [ctrl]+w+↓ 移动到下方窗口后，按下 :q 即可离开， 也可以按下 [ctrl]+w+q 啊！|

#### 保存与退出 ####
|指令键|功能|
|:-:|:-:|
|:w|将编辑的数据写入硬盘档案中(常用)|
|:w!|若文件属性为『只读』时，强制写入该档案。不过，到底能不能写入， 还是跟你对该档案的档案权限有关啊！|
|:q|离开 vi (常用)|
|:q!|若曾修改过档案，又不想储存，使用 ! 为强制离开不储存档案。|
|:wq|储存后离开，若为 :wq! 则为强制储存后离开 (常用)|
|ZZ|这是大写的 Z 喔！若档案没有更动，则不储存离开，若档案已经被更动过，则储存后离开！|
|:r filename|在编辑的数据中，读入另一个档案的数据。亦即将 『filename』 这个档案内容加到游标所在行后面|
|:n1,n2 w filename|将 n1 到 n2 的内容储存成 filename 这个档案。|
|:w [filename]|将编辑的数据储存成另一个档案（类似另存新档）|
|:! command|暂时离开 vi 到指令列模式下执行 command 的显示结果！例如『:! ls /home』即可在 vi 当中察看 /home 底下以 ls 输出的档案信息！|
|:set nu|显示行号，设定之后，会在每一行的前缀显示该行的行号|
|:set nonu|与 set nu 相反，为取消行号！|
